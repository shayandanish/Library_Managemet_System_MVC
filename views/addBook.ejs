<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Add Book â€” AIPS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      .truncate-1 {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }
    </style>
  </head>
  <body class="min-h-screen bg-slate-50">
    <header class="bg-white border-b">
      <div
        class="max-w-7xl mx-auto px-6 py-6 flex items-center justify-between"
      >
        <h1 class="text-2xl md:text-3xl font-bold text-slate-800">Add Book</h1>
        <!-- Link back to the list of books -->
        <a href="/books" class="text-sm text-indigo-600 hover:text-indigo-500">
          View Books</a
        >
      </div>
    </header>

    <main class="max-w-7xl mx-auto px-6 py-8">
      <!-- Flash / message banner -->
      <% if (query && query.msg) { %>
      <div
        class="mb-4 rounded-xl border border-indigo-200 bg-indigo-50 text-indigo-800 px-4 py-3"
      >
        <%= query.msg %>
      </div>
      <% } %>

      <!-- Add Book Card -->
      <section class="bg-white border rounded-2xl shadow-sm p-6">
        <h2 class="text-lg font-semibold text-slate-800 mb-4">
          Add a New Book
        </h2>
        <form
          action="/books/add"
          method="POST"
          class="grid grid-cols-1 md:grid-cols-6 gap-4"
        >
          <input
            type="text"
            name="bookID"
            placeholder="Book ID "
            class="md:col-span-2 rounded-xl border-slate-200 focus:border-indigo-400 focus:ring-indigo-300"
          />
          <input
            type="text"
            name="title"
            placeholder="Title"
            required
            class="md:col-span-2 rounded-xl border-slate-200 focus:border-indigo-400 focus:ring-indigo-300"
          />
          <input
            type="text"
            name="author"
            placeholder="Author"
            class="md:col-span-2 rounded-xl border-slate-200 focus:border-indigo-400 focus:ring-indigo-300"
          />
          <input
            type="text"
            name="category"
            placeholder="Category"
            class="rounded-xl border-slate-200 focus:border-indigo-400 focus:ring-indigo-300"
          />
          <input
            type="number"
            name="year"
            placeholder="Year"
            class="rounded-xl border-slate-200 focus:border-indigo-400 focus:ring-indigo-300"
          />
          <input
            type="number"
            name="totalCopies"
            placeholder="Total Copies"
            class="rounded-xl border-slate-200 focus:border-indigo-400 focus:ring-indigo-300"
          />
          <input
            type="number"
            name="availableCopies"
            placeholder="Available"
            class="rounded-xl border-slate-200 focus:border-indigo-400 focus:ring-indigo-300"
          />
          <!-- Shelf fields -->
          <input
            type="text"
            name="shelfNo"
            placeholder="Shelf No"
            class="rounded-xl border-slate-200 focus:border-indigo-400 focus:ring-indigo-300"
          />
          <input
            type="text"
            name="shelf"
            placeholder="Shelf"
            class="md:col-span-2 rounded-xl border-slate-200 focus:border-indigo-400 focus:ring-indigo-300"
          />

          <div class="md:col-span-1">
            <button
              type="submit"
              class="w-full rounded-xl bg-indigo-600 text-white font-semibold py-2.5 hover:bg-indigo-500 shadow"
            >
              Add Book
            </button>
          </div>
        </form>
      </section>
    </main>
  </body>
</html>
